/**********************************************************
  Copyright (C), 2009, Golden Palm Industry. Co., Ltd.
  文件名      : OCM19264-1.c
  创建者      : 
  创建日期    : 2009-12-08
  版本号      : 1.1 
  控制IC      : KS0107
  MCU类型     : AT89S52 
  描述        : OCM19264-1模块测试程序
  修改历史    :       
      <修改者>    <修改日期>    <版本号>     <描述>
       连钦兴      09-12-08       1.1     修改引脚定义  
***********************************************************/

#include <reg52.h>
#include <string.h>
#include <stdlib.h>
#include <stdio.h>

#define disp_off   0x3e
#define disp_on    0x3f
#define disp_x     0xb8
#define disp_z     0xc0
#define disp_y     0x40
#define data_ora   P1       //MCU P1<------> LCM
#define data       1
#define comm       0
#define uchar      unsigned char

sbit di =P3^0;  //Data or Instrument Select,H:写数据,L:写指令
sbit rw =P3^1;  //Write or Read,H:read,L:write
sbit e  =P3^2;  //读写使能
sbit cs1=P3^3;  //cs1=L,选择左边屏
sbit rst=P3^4;  //Lcm reset,低有效
sbit cs2=P3^5;  //cs2=L,选择中间屏
sbit cs3=P3^6;  //cs3=L,选择右边屏
sbit bf =P1^7;
sbit res=P1^4;

void delay (unsigned int us);
void delay1 (unsigned int ms);
void wr_lcd (uchar data_comm,uchar content);
void chk_busy (void);
void wrlattice (uchar data1,uchar data2);
void disp_img(uchar code *img);
void disp_chn(uchar xl,uchar yl,uchar x,uchar y,uchar code *chn);

uchar code hz11[]={
/*--  调入了一幅图像：E:\肇.bmp  --*/
0x00,0x00,0x00,0x00,0x00,0xE0,0x40,0x40,0x44,0x5C,0x58,0x40,0x20,0xF0,0x60,0x00,
0x00,0xE0,0x3C,0xFC,0x20,0x20,0x20,0xA0,0xE0,0x60,0x20,0x30,0x20,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x70,0x3F,0x04,0x04,0x84,0x84,0x84,0x84,0xA4,0xA7,0x94,0xF2,
0xD1,0x90,0x88,0x88,0x8D,0x86,0x86,0x8F,0x08,0x18,0x18,0x18,0x30,0x10,0x00,0x00,
0x00,0x02,0x05,0x04,0x04,0x04,0x04,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0xFF,
0x24,0x24,0x24,0x24,0x24,0x24,0x64,0xFF,0x84,0x04,0x04,0x06,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x09,0x09,0x09,0x09,0x09,0x09,0x09,0x09,0x7F,
0x79,0x09,0x09,0x09,0x09,0x09,0x09,0x08,0x08,0x08,0x08,0x04,0x04,0x00,0x00,0x00};
uchar code hz12[]={
/*--  调入了一幅图像：E:\庆.bmp  --*/
0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x84,0x8C,
0x78,0x70,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x40,0x60,0x40,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0xFF,0xFE,0x82,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xC0,0xC0,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xC0,0xFF,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xF0,
0x3F,0x07,0x01,0x0E,0x70,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x40,0x20,0x1C,0x07,0x81,0x40,0x40,0x20,0x30,0x10,0x08,0x0C,0x06,0x03,0x00,
0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x0E,0x1C,0x3C,0x38,0x70,0x30,0x10,0x00,0x00};
uchar code hz13[]={
/*--  调入了一幅图像：E:\金.bmp  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0x7C,0x1C,
0x28,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0x80,0x40,0x60,0x30,0x18,0x8C,0x8E,0x87,0x81,0x80,0x80,0x80,
0x80,0x80,0x81,0x83,0x46,0x6C,0x58,0x38,0x30,0x70,0x60,0xE0,0xE0,0x40,0x00,0x00,
0x00,0x00,0x01,0x00,0x00,0x10,0x10,0x50,0x90,0x90,0x10,0x10,0x10,0x10,0x10,0xFF,
0x10,0x10,0x10,0x10,0x10,0x90,0xD0,0x90,0x98,0x1C,0x10,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x23,0x3F,0x2E,0x20,0x20,0x20,0x3F,
0x20,0x20,0x20,0x38,0x2E,0x23,0x21,0x20,0x20,0x20,0x20,0x30,0x30,0x20,0x00,0x00};
uchar code hz14[]={
/*--  调入了一幅图像：E:\鹏.bmp  --*/
0x00,0x00,0x00,0xF0,0xE0,0x20,0x20,0x20,0xF0,0x20,0x00,0xF0,0xE0,0x20,0x20,0x20,
0xF0,0xF0,0x20,0x00,0xC0,0x40,0x40,0x78,0x48,0x48,0x40,0xE0,0xC0,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x10,0x10,0x10,0xFF,0x00,0x00,0xFF,0xFF,0x10,0x10,0x10,
0xFF,0xFF,0x00,0x00,0xFF,0x00,0x00,0x42,0x5E,0xC0,0xC0,0x7F,0x03,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0x7F,0x08,0x08,0x08,0xFF,0x00,0x00,0xFF,0xFF,0x08,0x08,0x08,
0xFF,0xFF,0x80,0x84,0x8F,0x84,0x84,0x84,0x84,0xC4,0x84,0x04,0xFE,0x3C,0x04,0x00,
0x00,0x60,0x18,0x07,0x00,0x08,0x08,0x38,0x1F,0x20,0x18,0x07,0x00,0x10,0x10,0x30,
0x3F,0x1F,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x30,0x70,0x38,0x1F,0x00,0x00,0x00};
uchar code hz15[]={
/*--  调入了一幅图像：E:\科.bmp  --*/
0x00,0x00,0x00,0x40,0x20,0x20,0x20,0x20,0xF0,0xF0,0x10,0x18,0x18,0x18,0x00,0x00,
0x00,0x40,0x80,0x80,0x00,0x00,0x00,0x00,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x10,0x10,0x10,0x10,0x10,0xD0,0xFF,0xFF,0x10,0x10,0x10,0x08,0x08,0x00,
0x00,0xC0,0x81,0x07,0x03,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0x40,0x30,0x18,0x0E,0x03,0xFF,0xFF,0x01,0x01,0x07,0x4E,0x44,0x40,
0x20,0x20,0x23,0x23,0x20,0x10,0x10,0x10,0xFF,0xFF,0x08,0x08,0x0E,0x0C,0x00,0x00,
0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00};
uchar code hz16[]={
/*--  调入了一幅图像：E:\技.bmp  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xFC,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x02,0x02,0x02,0x02,0x02,0xFF,0xFF,0x02,0x82,0x82,0x83,0x42,0x82,0x82,
0x82,0x82,0x82,0x82,0xFF,0xFF,0x82,0x82,0x82,0x82,0xC2,0x83,0x03,0x02,0x00,0x00,
0x00,0x00,0x0C,0x0C,0x06,0x06,0x02,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x03,0x0C,0x70,0xC0,0x80,0x80,0xC0,0x70,0x3C,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x30,0x70,0x3F,0x3F,0x00,0x40,0x40,0x40,0x20,0x20,0x10,
0x10,0x08,0x0C,0x06,0x03,0x07,0x0D,0x0C,0x18,0x38,0x30,0x70,0x70,0x20,0x00,0x00};
uchar code hz21[]={
/*--  调入了一幅图像：E:\Gold.bmp  --*/
0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0x40,0x40,0x40,0x80,0x80,0xC0,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x40,0x40,0x40,0x40,0xC0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0xC0,0xE0,0x00,0x00,0x00,
0x00,0xE0,0xFC,0x0E,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0C,0x00,0x00,
0x00,0x00,0x00,0x00,0xC0,0x40,0x60,0x20,0x20,0x20,0x60,0x40,0xC0,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0x20,0x20,0x40,0xFF,0xFF,0x00,0x00,0x00,
0x00,0x1F,0x7F,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0xFC,0xFC,0x04,0x04,
0x00,0x00,0x7E,0xFF,0x81,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x81,0xFF,0x7E,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x7E,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,
0x00,0x00,0x00,0x01,0x03,0x02,0x04,0x04,0x04,0x04,0x04,0x02,0x01,0x01,0x00,0x00,
0x00,0x00,0x00,0x01,0x03,0x02,0x04,0x04,0x04,0x04,0x04,0x02,0x03,0x01,0x00,0x00,
0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x07,0x07,0x04,0x04,0x04,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x01,0x03,0x06,0x04,0x04,0x04,0x02,0x01,0x07,0x03,0x02,0x02,0x00};
uchar code hz22[]={
/*--  调入了一幅图像：E:\en.bmp  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0xC0,0x40,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,
0x00,0x20,0x20,0xE0,0xF0,0x80,0x40,0x40,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,
0x00,0x00,0x7E,0xFF,0x88,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x0F,0x8E,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,
0x00,0x00,0x00,0x01,0x03,0x02,0x06,0x04,0x04,0x04,0x04,0x02,0x03,0x00,0x00,0x00,
0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x00,0x00,0x00,0x04,0x04,0x07,0x07,0x04,0x04};
uchar code hz23[]={
/*--  调入了一幅图像：E:\Palm.bmp  --*/
0x00,0x40,0x40,0xC0,0xC0,0x40,0x40,0x40,0x40,0x40,0x40,0xC0,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x40,0x40,0x40,0x40,0xC0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC1,0x7F,0x3E,0x00,
0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x20,0xE0,0xF0,0x40,0x20,0x20,0xE0,0xC0,0x40,0x20,0x20,0xE0,0xC0,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
0x00,0xC0,0xF1,0x31,0x18,0x08,0x08,0x04,0x04,0x04,0xFF,0xFF,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,
0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x01,0x03,0x06,0x04,0x04,0x04,0x04,0x02,0x02,0x03,0x07,0x04,0x04,0x03,0x00,
0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x07,0x07,0x04,0x04,0x04,0x04,0x00,0x00,0x00,
0x00,0x04,0x07,0x07,0x04,0x00,0x04,0x07,0x07,0x04,0x00,0x04,0x07,0x07,0x04,0x00};

uchar code tab41[]={
/*--  调入了一幅图像：F:\梁\其它\GPTB.bmp  --*/
/*--  宽度x高度=32x32  --*/
0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x10,0x48,0xD4,0xB4,0x62,0xC2,0x82,0x02,
0x02,0x02,0x02,0x84,0xC4,0xE0,0xA0,0xE0,0x60,0x20,0x20,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xFE,0x01,0x00,0x04,0x0D,0x1B,0x36,0x6D,0xDB,0xF6,0xED,0xFB,
0xFE,0xFE,0xFF,0x7F,0x1F,0x07,0x01,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x03,0x04,0x08,0x10,0x20,0x40,0x40,0x80,0x83,0xFF,0xFF,
0xFF,0xFF,0x83,0x40,0x40,0x20,0x10,0x08,0x04,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
0x7C,0x44,0xEC,0x00,0x7C,0x44,0x7C,0x00,0x7C,0x40,0x40,0x00,0x7C,0x44,0x38,0x00,
0x7C,0x14,0x1C,0x00,0x7C,0x40,0x40,0x00,0x78,0x24,0x78,0x00,0x7C,0x18,0x18,0x7C};
uchar code tab42[]={
/*--  调入了一幅图像：F:\梁\其它\GPTB.bmp  --*/
/*--  宽度x高度=32x32  --*/
0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0xBF,0xDF,0xEF,0xB7,0x2B,0x4B,0x9D,0x3D,0x7D,0xFD,
0xFD,0xFD,0xFD,0x7B,0x3B,0x1F,0x5F,0x1F,0x9F,0xDF,0xDF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0x01,0xFE,0xFF,0xFB,0xF2,0xE4,0xC9,0x92,0x24,0x09,0x12,0x04,
0x01,0x01,0x00,0x80,0xE0,0xF8,0xFE,0xFF,0xFF,0xFF,0x0F,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFC,0xFB,0xF7,0xEF,0xDF,0xBF,0xBF,0x7F,0x7C,0x00,0x00,
0x00,0x00,0x7C,0xBF,0xBF,0xDF,0xEF,0xF7,0xFB,0xFC,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0x83,0xBB,0x13,0xFF,0x83,0xBB,0x83,0xFF,0x83,0xBF,0xBF,0xFF,0x83,0xBB,0xC7,0xFF,
0x83,0xEB,0xE3,0xFF,0x83,0xBF,0xBF,0xFF,0x87,0xDB,0x87,0xFF,0x83,0xE7,0xE7,0x83};

uchar code tab6[]={
/*--  调入了一幅图像：F:\梁\其它\HOCO19264.bmp  --*/
/*--  宽度x高度=192x64  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,
0xE0,0xE0,0xF0,0xF8,0xF8,0xF8,0xF8,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xF8,
0xF0,0xF0,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,
0x00,0x80,0xC0,0xE0,0xA0,0x80,0xC0,0xC0,0xE0,0xC0,0xC0,0xC0,0xC0,0x60,0x70,0x00,
0x00,0x00,0x80,0x80,0xC0,0xC0,0x60,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0x80,0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xE0,0xF0,0xF0,0xF0,0xF0,0xF0,
0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xE0,0xE0,0xE0,0xE0,0xC0,0xC0,0xC0,0x80,0x80,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xB5,0x5F,
0xFF,0xFF,0xCF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xF8,0xF0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x70,0x7F,0x7F,
0xFE,0xF7,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xBF,0x3F,0x1F,0x1F,0x1F,0x0F,
0x0F,0x07,0x03,0x01,0x01,0x00,0x00,0x00,0x00,0xC0,0xE0,0xF0,0xF8,0xFC,0xFC,0xFE,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFD,0xFD,0xDD,0xDD,0xDC,0xDC,0xDC,
0xDC,0x9C,0x9C,0x9C,0x1C,0x38,0x38,0x38,0x71,0x71,0xE1,0xE3,0xC3,0x83,0x07,0x0F,
0x0F,0x3E,0x7C,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x1F,0x3F,0x3F,0x27,0x1F,0x00,0x06,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFC,0xF8,0xF8,0xF8,0xF8,0xF0,0xF0,
0xF0,0xF0,0xF0,0xF0,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF0,
0xF0,0xF0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xE0,0xF0,0xF8,0xFC,0xFE,0xFE,0xFE,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFC,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xE0,0xF8,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,0xF8,0xF0,0xC0,0x01,0x03,0x8F,0xFF,0x7C,
0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x8F,0x9F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xF0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0xFE,
0xFC,0xFC,0xFC,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xBF,
0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xCF,0x3F,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x07,0x3F,0xFF,0x3F,0x00,0x00,0x01,0x00,0x00,
0x00,0x02,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFC,0xFF,0xFF,0x1F,0x0F,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x03,0x87,0xFF,
0xFF,0xFF,0xFF,0x7F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,
0x0F,0x0F,0x0F,0x0F,0x3F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0x7F,0x1F,0x0F,0x3F,0xFF,0xFF,0xFF,0xFE,0xF0,0xE0,0xC0,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x07,0x1F,0x1F,0x3F,0x7F,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x3F,
0x0F,0x00,0xC3,0xFF,0xFF,0xFF,0x7F,0x3F,0xFF,0xFF,0xFF,0xFF,0x7F,0x3F,0x07,0x00,
0x01,0x7F,0x3F,0x1F,0x07,0x03,0x00,0x00,0xFE,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,
0x7F,0xFF,0xFE,0xF8,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFF,0x7F,
0x3F,0x0F,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x07,0x0F,0x1F,0x3F,0xFF,0xFF,0xFE,0xF0,0xC7,
0x0F,0x1F,0xFF,0xFF,0xFF,0xF8,0xE0,0x80,0x00,0x01,0x03,0xFF,0xFF,0xFF,0xE3,0xC7,
0x8E,0x1C,0x38,0x70,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x01,0x03,0x03,0x07,0x07,0x0F,0x0F,0x1F,0xFF,0xFF,0x7F,0x3F,0x9F,0x0F,0x0F,
0x1F,0x3F,0x7F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFD,0x3F,0x03,0x01,0x07,0x08,0x00,
0x00,0x0E,0x07,0x03,0x03,0x01,0x00,0x07,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xE0,0xF0,0xFC,0x7F,0x3F,0x1F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xF0,0xF8,0xFF,0xFF,0x3F,0x1F,
0x0F,0x07,0x07,0x03,0x03,0x01,0x01,0x00,0x00,0x00,0x00,0x01,0x0F,0x1F,0x1F,0x3F,
0x31,0x21,0x42,0x00,0x00,0x0F,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xC0,0x30,0x08,0x9C,0x07,0x01,0x40,0x40,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x24,0x1C,0x09,0x07,0x0A,0x02,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x30,0x38,0x3C,0x3E,0x3F,0x3F,0x07,0x03,0x01,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x04,
0x0C,0x06,0x02,0x03,0x01,0x04,0x00,0x00,0x03,0x00,0x00,0x01,0x00,0x00,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};


/*---------------延时子程序----------------*/
void delay (unsigned int us)
{
  while(us--);
}
void delay1 (unsigned int ms)
{
  unsigned int i,j;
  for(i=0;i<ms;i++)
  for(j=0;j<1000;j++)
  ;
}
/*------------写数据或命令到LCD--------------*/
void wr_lcd (uchar data_comm,uchar content)
{
  chk_busy ();
  di=data_comm;
  rw=0;
  data_ora=content;
  ;
  e=1;
  ;
  e=0;
}
void chk_busy (void)
{
  data_ora=data_ora&0xb0;
    di=0;
    rw=1;
    ;
    e=1;
    while(bf||res==1)
      delay(2);
    e=0;
}
/*--------------读LCD数据----------------*/
uchar re_lcd()
{
  uchar redata;
  di=1;
  rw=1;
  ;
  e=1;
  ;
  e=0;
  redata=data_ora;
  return redata;
}
/*--------------写点阵------------------*/
void wrlattice (uchar data1,uchar data2)
{
  uchar i,j;
  cs1=0;cs2=0;cs3=0;
  wr_lcd(comm,disp_on);
  for(j=0;j<8;j++)
  {
    wr_lcd (comm,disp_x+j);
    wr_lcd (comm,disp_z);
    wr_lcd (comm,disp_y);
    for(i=0;i<32;i++)
    {
      wr_lcd (data,data1);
      wr_lcd (data,data2);
    }
  }
}
/*--------------显示图片----------------*/
void disp_img(uchar code *img)
{
  uchar i,j;
  for(j=0;j<8;j++)
  {
    cs1=0;cs2=1;cs3=1;
    wr_lcd (comm,disp_x+j);
    wr_lcd (comm,disp_z);
    wr_lcd (comm,disp_y);
    for(i=0;i<64;i++)
      wr_lcd (data,img[j*192+i]);
    cs1=1;cs2=0;cs3=1;
    wr_lcd (comm,disp_x+j);
    wr_lcd (comm,disp_z);
    wr_lcd (comm,disp_y);
    for(i=64;i<128;i++)
      wr_lcd (data,img[j*192+i]);
    cs1=1;cs2=1;cs3=0;
    wr_lcd (comm,disp_x+j);
    wr_lcd (comm,disp_z);
    wr_lcd (comm,disp_y);
    for(i=128;i<192;i++)
      wr_lcd (data,img[j*192+i]);
  }
}
/*----------指定位置显示图形yl*xl------------*/
void disp_chn(uchar xl,uchar yl,uchar x,uchar y,uchar code *chn)
{
  uchar i,j;
  for(j=0;j<xl;j++)
  {
    wr_lcd (comm,disp_x+x+j);
    wr_lcd (comm,disp_z);
    wr_lcd (comm,disp_y+y);
    for(i=0;i<yl;i++)
     wr_lcd (data,chn[j*yl+i]);
  }
}
/*------------------初始化-----------------*/
void init_lcd (void)
{
  rst=0;
  delay(50);
  rst=1;
  cs1=0;cs2=0;cs3=0;
  wr_lcd (comm,disp_off);
  wr_lcd (comm,disp_on);
}
/*---------------显示2-----------------*/
void disp2(void)
{
  wrlattice(0x00,0x00);
  cs1=0;cs2=1;cs3=1;
  disp_chn(4,32,0,0,hz11);
  disp_chn(4,32,0,32,hz12);
  disp_chn(4,64,4,0,hz21);
  cs1=1;cs2=0;cs3=1;
  disp_chn(4,32,0,0,hz13);
  disp_chn(4,32,0,32,hz14);
  disp_chn(4,32,4,0,hz22);
  cs1=1;cs2=1;cs3=0;
  disp_chn(4,32,0,0,hz15);
  disp_chn(4,32,0,32,hz16);
  disp_chn(4,64,4,0,hz23);
}
/*---------------显示4-----------------*/
void disp4(void)
{
  cs1=0;cs2=0;cs3=0;
  disp_chn(4,32,0,0,tab41);
  disp_chn(4,32,0,32,tab42);
  disp_chn(4,32,4,0,tab42);
  disp_chn(4,32,4,32,tab41);
}
/*------------------主程序--------------------*/
void main ()
{
  SP=0x5f;
  init_lcd ();
  while (1)
  {
    wrlattice (0xff,0xff);
    delay1(300);
    disp2();
    delay1(300);
    wrlattice (0xff,0x00);
    delay1(300);
    disp4();
    delay1(300);
    wrlattice (0x33,0x33);
    delay1 (300);
    disp_img(tab6);
    delay1 (300);
  }
}
